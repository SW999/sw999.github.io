extends layout

block content
  header.top-header
    h1 Article: #{json.title}

  section#articles
    article
      h3 #{json.title}
      span Author:
        strong #{json.author}
        span , date:
        em  #{json.modified}
      br
      img(src=json.url)
      p !{json.content}
      br
      a(href="/articles/")= "<= Back"
      br
      div.dashboard
        a(href="#", class="edit-article")= "Edit"
        a(href="#", class="add-article")= "Create new article"
        a(href="#", class="delete-article")= "Delete"

  div.hidden-block-wrapper

    div.edit-page.hidden
      h3 Edit article
      br
      form(name="edit", method="POST", class="form", action="/articles/"+json.alias+"?_method=PUT")
        input(type="hidden", name="url", value=json.url)
        input(type="hidden", name="author", value=json.author)
        div.input
          label(for="title")= "Title"
          input(id="title" type="text", name="title", value=json.title)
        div.input
          label(for="description")= "Description"
          input(id="description", type="text", name="description", value=json.description)
        div.input
          label(for="content")= "Content"
          textarea(id="content", name="content", cols="40", rows="5")=json.content
        div.actions
          input(type="submit", value="Save changes")

    div.create-new.hidden
        h3 Add new article
        br
        form(name="edit", method="POST", class="form", action="/articles/"+json.alias)
            div.input
                label(for="author")= "Author"
                input(id="author" type="text", name="author", placeholder="Tape Your name")
            div.input
                label(for="url")= "Img url"
                input(id="url" type="text", name="url", placeholder="http://path-to-img.jpg")
            div.input
                label(for="title")= "Title"
                input(id="title" type="text", name="title", placeholder="New article title")
            div.input
                label(for="description")= "Description"
                input(id="description", type="text", name="description", placeholder="Short description")
            div.input
                label(for="content")= "Content"
                textarea(id="content", name="content", cols="40", rows="5", placeholder="Main content")
            div.actions
                input(type="submit", value="Save")

    div.delete-block.hidden
        h3 Delete article?
        br
        form(name="edit", method="POST", class="form", action="/articles/"+json.alias+"?_method=DELETE")
            div.actions
                input(type="submit", value="Delete")
